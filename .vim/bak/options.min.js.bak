$(document).ready(function(){var t,e,n,o,a,i,r,c,s,l,p,u;return i='<span class="loading"><img src="/static/img/loading.gif"></span>',a=function(t){var e,n,o,a;return console.log(t),t.preventDefault(),n=$(this).serializeArray(),e={},_.map(n,function(t){return e[t.name]=t.value}),a=$(this).attr("action"),o=$(this).attr("method"),$.ajax(a,{type:o,contentType:"application/json",data:JSON.stringify(e),success:function(t){return t.success?window.location.reload():cm.loadModal(t)}})},e=function(t){var e;return t.preventDefault(),e=$(this).attr("href"),$.ajax(e,{type:"DELETE",success:function(t){return t.success?window.location.reload():void 0}})},s=function(t){return $(t.currentTarget).find(".edit-btn").toggle()},l=function(t){return t.preventDefault(),$(t.currentTarget).next('input[type="file"]').trigger("click")},o=function(e){var n,o,a;return o=$(this).prop("multiple"),a=$(this).data("path"),n=e.currentTarget.files,_.each(n,function(e){var n;return n=new FormData,n.append("img",e),o?($(".image-listing").append(i),u(a,n,p)):u(a,n,t)})},u=function(t,e,n){return $.ajax({url:t,type:"POST",data:e,cache:!1,contentType:!1,processData:!1,success:function(t){return t.success?n(t):void 0}})},t=function(t){return $(".placeholder-image").css("background-image","url('"+t.image_url+"')"),$("#image").val(t.image_url)},p=function(t){var e;return e=$("#images").val(),e.length>0&&(e+=","),e+=t.image_url,$("#images").val(e),n(t.image_url)},n=function(t){return $(".image-listing span:first-of-type").remove(),$(".image-listing").append("<img src="+t+">")},c=function(t){var e,n;return t.preventDefault(),t.stopPropagation(),n=$(t.currentTarget).attr("href"),e=$(t.currentTarget).parents("form"),$(e).attr("action",n),$(e).trigger("submit")},r=function(t){var e,n,o;return console.log("save panel"),o="show"===t.type?"/options/panels/add":"/options/panels/remove",n=$(t.currentTarget).attr("id"),e=JSON.stringify({panel:n}),$.ajax(o,{type:"PUT",data:e,contentType:"application/json"})},$(".js-new-optionset").on("click",cm.getModal),$(".js-edit-optionset").on("click",cm.getModal),$(".js-new-option").on("click",cm.getModal),$(".js-edit-option").on("click",cm.getModal),$("body").on("click",".js-confirm-optionset",cm.getModal),$("body").on("click",".js-confirm-option",cm.getModal),$("body").on("click",".js-delete-optionset",e),$("body").on("click",".js-delete-option",e),$("body").on("click",".js-upload-image",l),$("body").on("click",".js-optionset-images",l),$("body").on("change","#image_files",o),$("body").on("change","#optionset_images",o),$("body").on("submit",".modal form",a),$("body").on("click",".js-option-prev, .js-option-next",c),$("#option_sets .panel").on("shown.bs.collapse hide.bs.collapse",s),$(".panel-collapse").on("show.bs.collapse hide.bs.collapse",r),$('[data-toggle="tooltip"]').tooltip()});