"""Fix option set foreign key constraint.

Revision ID: 11ef592c8554
Revises: 546548f3060c
Create Date: 2016-01-14 17:46:05.390835

"""

# revision identifiers, used by Alembic.
revision = '11ef592c8554'
down_revision = '546548f3060c'

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql


def upgrade():
    ### commands auto generated by Alembic - please adjust! ###
    conn = op.get_bind()
    conn.execute(
        "ALTER TABLE option_set_sub_component DROP CONSTRAINT "
        "fk_option_set_sub_component_option_set_id_option_set, "
        "ADD CONSTRAINT fk_option_set_sub_component_option_set_id_option_set "
        "FOREIGN KEY (option_set_id) REFERENCES option_set(id) "
        "ON DELETE CASCADE;"
    )
    ### end Alembic commands ###

def downgrade():
    ### commands auto generated by Alembic - please adjust! ###
    pass
    ### end Alembic commands ###
